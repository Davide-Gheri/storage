{"version":3,"sources":["webpack://Storage/webpack/universalModuleDefinition","webpack://Storage/webpack/bootstrap","webpack://Storage/./src/lib/utils.ts","webpack://Storage/./src/index.ts","webpack://Storage/./src/lib/Adapters/index.ts","webpack://Storage/./src/lib/Adapters/Localstorage.ts","webpack://Storage/./src/lib/Adapters/Sessionstorage.ts","webpack://Storage/./src/lib/Adapters/Cookiestorage.ts","webpack://Storage/./src/lib/Adapters/ObjectStorage.ts"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","tryParse","JSON","parse","e","decode","replace","decodeURIComponent","Adapters_1","ObjectStorage_1","Storage","adapter","this","defaults","localstorage","Localstorage","sessionstorage","Sessionstorage","cookie","Cookiestorage","ObjectStorage","setAdapter","useAdapter","Error","keys","indexOf","ad","resolveAdapter","options","def","set","delete","clear","__export","utils_1","localStorage","getItem","setItem","stringify","removeItem","sessionStorage","path","setAttributes","attributes","assign","expires","Date","getTime","toUTCString","jar","cookies","document","split","length","parts","slice","join","charAt","name_1","result","test","encodeURIComponent","String","escape","stringifiedAttributes","attributeName","Boolean","forEach","state"],"mappings":"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","file":"bundle.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"Storage\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Storage\"] = factory();\n\telse\n\t\troot[\"Storage\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","\n\nexport function tryParse(value) {\n    try {\n        return JSON.parse(value);\n    } catch (e) {\n        return value;\n    }\n}\n\nexport function decode (s) {\n    return s.replace(/(%[0-9A-Z]{2})+/g, decodeURIComponent);\n}\n","import {  AdapterInterface } from './lib/AdapterInterface';\nimport { Cookiestorage, Localstorage, Sessionstorage } from './lib/Adapters';\nimport { ObjectStorage } from './lib/Adapters/ObjectStorage';\n\ninterface StorageOptions {\n    adapter: string\n}\n\n/**\n * @ngdoc object\n * @name Storage\n *\n * @description\n * Storage is the library to save and get data in different ways.\n *\n */\nexport class Storage {\n    private readonly defaults = {\n        localstorage: Localstorage,\n        sessionstorage: Sessionstorage,\n        cookie: Cookiestorage,\n        object: ObjectStorage\n    };\n\n    private adapter: AdapterInterface = new Localstorage();\n\n    constructor(adapter: AdapterInterface | string) {\n        this.setAdapter(adapter);\n    }\n\n    public setAdapter(adapter: AdapterInterface | string) {\n        if (typeof adapter === 'string') {\n            this.adapter = this.useAdapter(adapter as string);\n        } else {\n            this.adapter = adapter as AdapterInterface;\n        }\n        new Error(`Adapter ${adapter} not supported`)\n    }\n\n    private useAdapter(adapter: string) {\n        if (Object.keys(this.defaults).indexOf(adapter) >= 0) {\n            const ad = this.defaults[adapter as string];\n            return new ad();\n        }\n        new Error(`Adapter ${adapter} not supported`)\n    }\n\n    private resolveAdapter(options?: StorageOptions) {\n        return options ? this.useAdapter(options.adapter) || this.adapter : this.adapter;\n    }\n\n    public get(key: string, def?: any, options?: StorageOptions) {\n        return this.resolveAdapter(options).get(key, def);\n    }\n\n    public set(key: string, value: any, options?: StorageOptions) {\n        return this.resolveAdapter(options).set(key, value);\n    }\n\n    public delete(key: string, options?: StorageOptions) {\n        return this.resolveAdapter(options).delete(key);\n    }\n\n    public clear(options?: StorageOptions) {\n        return this.resolveAdapter(options).clear()\n    }\n}","\nexport * from './Localstorage';\nexport * from './Sessionstorage';\nexport * from './Cookiestorage';","import { AdapterInterface } from '../AdapterInterface';\nimport { tryParse } from '../utils';\n\nexport class Localstorage implements AdapterInterface{\n    get(key: string, def?: any): any {\n        return tryParse(localStorage.getItem(key)) || def;\n    }\n\n    set(key: string, value: any): boolean {\n        try {\n            localStorage.setItem(key, typeof value === 'string' ? value : JSON.stringify(value));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    delete(key: string): boolean {\n        try {\n            localStorage.removeItem(key);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    clear(): void {\n        localStorage.clear();\n    }\n}","import { AdapterInterface } from '../AdapterInterface';\nimport { tryParse } from '../utils';\n\nexport class Sessionstorage implements AdapterInterface{\n    get(key: string, def?: any): any {\n        return tryParse(sessionStorage.getItem(key)) || def;\n    }\n\n    set(key: string, value: any): boolean {\n        try {\n            sessionStorage.setItem(key, typeof value === 'string' ? value : JSON.stringify(value));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    delete(key: string): boolean {\n        try {\n            sessionStorage.removeItem(key);\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    clear(): void {\n        sessionStorage.clear();\n    }\n}","import { AdapterInterface } from '../AdapterInterface';\nimport { decode, tryParse } from '../utils';\n\ninterface CookieOptions {\n    [key: string]: any\n}\n\nexport class Cookiestorage implements AdapterInterface {\n    private defaults = {\n        path: '/'\n    };\n\n    private setAttributes(options?: CookieOptions): CookieOptions {\n        const attributes = Object.assign(this.defaults, options);\n        if (typeof attributes.expires === 'number') {\n            attributes.expires = new Date(new Date().getTime() * 1 + attributes.expires * 864e+5);\n        }\n        attributes.expires = attributes.expires ? attributes.expires.toUTCString() : '';\n        return attributes;\n    }\n\n    public get(key?: string, def?: any): any {\n        let jar = {};\n        const cookies = document.cookie ? document.cookie.split('; ') : [];\n        let i = 0;\n        for (; i < cookies.length; i++) {\n            const parts = cookies[i].split('=');\n            let cookie = parts.slice(1).join('=');\n\n            if (cookie.charAt(0) === '\"') {\n                cookie = cookie.slice(1, -1);\n            }\n\n            try {\n                const name = decode(parts[0]);\n                cookie = decode(cookie);\n                cookie = tryParse(cookie);\n\n                jar[name] = cookie;\n\n                if (key === name) {\n                    break;\n                }\n            } catch (e) {}\n        }\n\n        return key ? jar[key] || def : jar || def;\n    }\n\n    public set(key: string, value: any, options?: CookieOptions): boolean {\n        const attributes = this.setAttributes(options);\n        try {\n            const result = JSON.stringify(value);\n            if (/^[\\{\\[]/.test(result)) {\n                value = result;\n            }\n        } catch (e) {}\n\n        value = encodeURIComponent(String(value))\n                .replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent);\n\n        key = encodeURIComponent(String(key))\n            .replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)\n            .replace(/[\\(\\)]/g, escape);\n        let stringifiedAttributes = '';\n        for (let attributeName in attributes) {\n            if (!attributes[attributeName]) {\n                continue;\n            }\n            stringifiedAttributes += '; ' + attributeName;\n            if (attributes[attributeName] === true) {\n                continue;\n            }\n            stringifiedAttributes += '=' + attributes[attributeName].split(';')[0];\n        }\n\n        return Boolean(document.cookie = key + '=' + value + stringifiedAttributes);\n    }\n\n    public delete(key: string): boolean {\n        return this.set(key, '', {expires: -1});\n    }\n\n    public clear(): void {\n        document.cookie.split(\";\").forEach(function(c) { document.cookie = c.replace(/^ +/, \"\").replace(/=.*/, \"=;expires=\" + new Date().toUTCString() + \";path=/\"); });\n    }\n}","import { AdapterInterface } from '../AdapterInterface';\n\nexport class ObjectStorage implements AdapterInterface {\n    private state: {[key: string]: any} = {};\n\n    get(key?: string, def?: any): any {\n        return key ? this.state[key] || def : this.state || def;\n    }\n\n    set(key: string, value: any): boolean {\n        try {\n            this.state[key] = value;\n            return true;\n        } catch (e) {\n            return false\n        }\n    }\n\n    delete(key: string): boolean {\n        try {\n            delete this.state[key];\n            return true\n        } catch (e) {\n            return false\n        }\n    }\n\n    clear(): void {\n        this.state = {};\n    }\n}"],"sourceRoot":""}